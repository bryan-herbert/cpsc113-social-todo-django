<!DOCTYPE html>
<html>
    
<head>
    <meta charset='utf-8'>
    <title>CPSC113 Social Todo App 2</title>
    <link rel="stylesheet" type="text/css" href="/css/style.css"/>
</head>

<body>
<h1>Herb's Corner</h1>

<h2>CPSC113 Social ToDo App</h2>

<div>
    <h5>Don't feel like this!</h5>
    <img src="http://ordiate.com/wp-content/uploads/2013/04/stress.jpg" alt="Stress" style="width:304px;height:228px;">
</div>

{% if errors %}
<div style="color:red" class="validation-error">
    {{errors}}
</div>
{% endif %}

{% if user.is_authenticated %}
    <h3>Welcome, {request.user.first_name}</h3>
    <div>
        <h4>Your Tasks</h4>

        {% if tasks %}
            <ul>
            {% for task in tasks %}
                <li class="tasks-list-item {% if this.isComplete %} complete-task {% endif %}">
                  <span class="task-title">{{this.title}}</span>
                  {% if this.taskowner %}
                  <form method="get" action="/task/{{this.id}}/delete">
                    <input type="submit" name="delete-task" class="delete-task" value="Delete">
                  </form>
                  {% endif %}
                  {% if this.isComplete %}
                  <form method="get" action="/task/{{this.id}}/complete">
                    <input type="submit" name="toggle-task" class="toggle-task" value="Mark incomplete">
                  </form>
                  {% else %}
                  <form method="get" action="/task/{{this.id}}/complete">
                    <input type="submit" name="toggle-task" class="toggle-task" value="Mark complete">
                  </form>
                  {% endif %}
                </li>
            {% endfor %}
            </ul>
        {% else %}
            No tasks to show!
        {% endif %}
    </div>
    <hr>
    <div>
        <h4>Add a new task</h4>
        <form action="/task/create" method="POST">
            <label for="title">Task title</label>
            <input name="title" type="text"><br>
            <label for="description">Task Description</label>
            <input name="description" type="text"><br>
            Collaborators<br>
            <input name="collaborator1" type="email"><br>
            <input name="collaborator2" type="email"><br>
            <input name="collaborator3" type="email"><br>
            <input type="submit" class="create-task-submit">
        </form>
    </div>

{% else %}
<div>
    <form class="login" action="/users/login" method="POST">
        <label for="email">Email</label>
        <input name="email" id="email" type="text"><br>
        <label for="password">Password</label>
        <input name="password"  id="password" type="text"><br>
        <input type="submit"  class="log-in-submit">
    </form>
</div>

<div><hr></div>

{% endif %}

<div id="registration">
  <form action="/users/registration" method="POST" class="registration">
    {% csrf_token %}
    <h2>Register Below</h2>
    {{registration}}
    <button class="sign-up-submit" type="submit">Submit</button>
</div>

    <footer>
        <a href="/users/logout" class="logout">Logout</a>
    </footer>
</body>

</html>



